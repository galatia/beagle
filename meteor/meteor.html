<head>
  <title>BEAGLE</title>
</head>

<body>
  {{> loginButtons}}
</body>

<template name="sidebar">
  <div class="sidebar">
    <p>The source URL is: {{sourceUrl}}</p>
    <!-- <p>Its creator is: {{creator}}</p> -->
    <p><button class="screenshot-taker">Take a screenshot</button></p>
    {{#with composeHl}}
      {{> highlight}}
    {{/with}}
    {{#each highlights}}
      {{> highlight}}
    {{/each}}
  </div>
</template>

<template name="highlight">
  <div class="highlight {{#if hovered}}hovered{{/if}} {{#if clicked}}clicked{{/if}}" id="{{_id}}">
    <div class="sourceText">{{sourceText}}</div>
    {{#each annotations}}
      <div class="authorBlock">
        <img src="{{author.picture}}"/>
        <span class="author">{{author.name}}</span>
        <time datetime={{toISOString createdAt}} title={{localISO createdAt}}>{{fromNow createdAt}}</time>
      </div>
      <div class="annotation">
        <div class="content">{{{content}}}</div>
      </div>
    {{/each}}
    {{#if compose}}
      {{> composeBox}}
    {{/if}}
  </div>
</template>

<template name="composeBox">
  <div class="composeBox">
    <div class="toolbar">
      <button data-command="bold"><b>B</b></button>
      <button data-command="italic"><i>I</i></button>
      <button data-command="underline"><u>U</u></button>
      <button data-command="strikeThrough"><strike>S</strike></button>
      <button data-command="insertUnorderedList">â€¢</button>
      <button data-command="insertOrderedList">1.</button>
      <button data-command="indent">&gt;</button>
      <button data-command="outdent">&lt;</button>
      <button data-command="removeFormat"><i>T</i><sub><small>X</small></sub></button>
    </div>
    <div class="composeFieldContainer">
      <div contenteditable id="composeField">{{{compose}}}</div>
    </div>
    <button class="save">Save</button>
    <button class="discard">Discard</button>
  </div>
</template>
